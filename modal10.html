<!-- ========= modal10.html  (Проект 10) ========= -->
<div id="modal10-container" class="support-modal">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
   /* ---- базовые стили из modal5 ---- */
    .spec-modal {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100vh;
      margin: 0;
      box-sizing: border-box;
    }
    /* верхнее модальное окно – высота уменьшена на 60 % */
    .modal9-top-window {
      color: var(--black-color, var(--content-color));
      width: 1930px;
      height: 90px; /* 40 % от исходных 180px */
      padding: 20px;
      padding-top: 15px;
      padding-bottom: 15px;
      box-sizing: border-box;
      border: 1px solid var(--content-color);
    }
    .spec-tabs,
    nav.nav_copy { display:flex; gap:8px; margin-bottom:10px; }
    .spec-tab,
    nav.nav_copy .tab { padding:6px 12px; border:1px solid #ccc; border-radius:4px; cursor:pointer; transition:background-color 0.3s; user-select:none; }
    .spec-page { width:100%; }
    .spec-page:not(.active) { display:none; }
    .spec-history-list {
      width: 100%;
      margin-top: 10px;
      overflow-x: auto;
      overflow-y: hidden;
      height: 100%;
    }
    .spec-history-item { display:flex; justify-content:space-between; padding:4px 8px;}
    .spec-history-item .status { margin-left:8px; color:#6c757d; }
    .spec-history-item .time   { margin-left:8px; color:#b5b5b5; font-size:0.9em; }
    .spec-info-icon { margin-left:8px; cursor:pointer; color:#007bff; }
    .spec-info-icon.disabled { color:#6c757d; pointer-events:none; }
    .spec-done-icon { margin-left:8px; color:#28a745; }
    .spec-row { width:100%; max-width:600px; margin-bottom:10px; }
    .spec-input-group { display:flex; gap:8px; }
    .spec-upload-progress { width:100%; margin-top:6px; }
      .spec-upload-progress.running::-webkit-progress-value { transition: width 0.4s ease; background:#007bff; }
    .spec-upload-progress.done::-webkit-progress-value { background:#28a745; }
    .fade-out { opacity:0; transition: opacity 1s; }
    /* ------- новые стили для полей истории ------- */
    .input-container {
      position: relative;
      width: auto;
    }
    .input-container.overflow::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 20px;
      height: 100%;
      pointer-events: none;
      background: linear-gradient(to left, var(--fon, #f5f5f5), rgba(245,245,245,0));
    }
    .styled_input_bar {
      width: auto;
      padding: 10px;
      font-size: 14px;
      border: 1px solid var(--content-color);
      border-radius: 8px;
      background-color: transparent;
      color: var(--content-color);
      outline: none;
      transition: all 0.3s ease;
      box-sizing: border-box;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .styled_input_bar::placeholder { color: grey; transition: all 0.3s ease; }
    .styled_input_bar:hover { border-color: grey; }
    .styled_input_bar:hover::placeholder { color: transparent; }
    .input-label {
      position: absolute;
      left: 10px;
      top: 10px;
      transform: translateY(-50%);
      font-size: 10px;
      background-color: var(--fon, #f5f5f5);
      color: var(--content-color);
      pointer-events: none;
      transition: all 0.3s ease;
    }
    .styled_input_bar:hover + .input-label,
    .styled_input_bar:not(:placeholder-shown) + .input-label {
      top: -2px;
      left: 10px;
      font-size: 13px;
      color: var(--content-color);
      background-color: var(--fon, #f5f5f5);
      padding: 0 8px;
    }
    .styled_input_bar:not(:hover):not(:placeholder-shown) + .input-label { color: grey; }
    .spec-history-item.input-row {
      gap: 10px;
      flex-wrap: nowrap;
      width: max-content;
    }
    .copy-tooltip {
      position: fixed;
      background: #333;
      color: #f5f5f5;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
      pointer-events: none;
      z-index: 1000;
    }
    .tooltip-overlay { position:fixed; inset:0; background:var(--content-color); opacity:1; display:flex; align-items:center; justify-content:center; z-index:10000; }
    .tooltip-modal { position:relative; background:#f5f5f5; border:1px solid rgba(0,0,0,0.10); border-radius:10px; padding:10px; width:1320px; max-width:90vw; max-height:90vh; overflow-y:auto; margin:30px; display:inline-block; }
    .tooltip-modal::-webkit-scrollbar { width:6px; }
    .tooltip-modal::-webkit-scrollbar-track { background:#e0e0e0; }
    .tooltip-modal::-webkit-scrollbar-thumb { background:var(--content-color); border-radius:10px; }
    .ans5-close { position:absolute; top:4px; right:8px; font-size:24px; background:none; border:none; cursor:pointer; }

    .modalRow { display:flex; gap:10px; margin-top:10px; }
    .modalColumn { display:flex; flex-direction:column; gap:10px; }
    .modalCollumn { display:flex; flex-direction:column; gap:10px; }
    .registry-checkboxes { display:flex; flex-direction:column; margin-top:10px; }
    .registry-checkboxes .checkbox-item { display:flex; align-items:center; gap:6px; }
    .modalCONTEINERpost {
      display: flex;
      border-radius: 6px;
      background: transparent;
      border: 1px solid #f5f5f5;
    }
    .iconTYPE1 { font-size:18px; cursor:pointer; color:#007bff; }
    .card-container {
      background-color: #f5f5f5;
      border-radius: 10px;
      padding: 0;
      margin: 10px;
      display: flex;
      flex-direction: column;
      width: auto;
      height: auto;
    }
    .card-body {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
    }
    .messages_container-content {
      margin: 0;
      padding: 1px;
      color: var(--black-color);
      font-size: 12px;
      box-sizing: border-box;
      overflow-y: auto;
      width: 100%;
      border: none;
    }
    .messages_container-content::-webkit-scrollbar {
      width: 2.5px;
      background-color: var(--scrollbar-color);
      height: 90%;
    }
    .messages_container-content::-webkit-scrollbar-thumb {
      background-color: var(--black-color);
      border-radius: 30px;
    }
    .messages_container-content::-webkit-scrollbar-track {
      background-color: var(--scrollbar-color);
    }
    .status-display {
      width: auto;
      padding: 10px;
      font-size: 14px;
      border: 1px solid var(--content-color);
      border-radius: 8px;
      background-color: transparent;
      color: var(--content-color);
      box-sizing: border-box;
      text-align: left;
      transition: opacity 1s, filter 1s;
      text-transform: uppercase;
      text-align: center;
    }
   .status-display.error {
      border-color: red;
    }
    .status-display.fade {
      opacity: 0;
      filter: blur(2px);
    }
    .fade-toggle {
      transition: opacity 0.5s, filter 0.5s;
    }
    .fade-toggle.hidden {
      opacity: 0;
      filter: blur(2px);
      pointer-events: none;
    }
    .status-display + .input-label {
      top: -2px;
      left: 10px;
      font-size: 13px;
      color: grey;
      background-color: #f5f5f5;
      padding: 0 8px;
    }
    .input-container:hover .status-display + .input-label {
      color: var(--content-color);
    }
     .fade-in {
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ---- окно модалки ---- */
    .modal9-scroll-wrapper {
      width:1950px;
      max-width:90vw;
      flex:1;
      padding-bottom:20px;
      overflow-x: visible;
    }

    /* нижнее окно компенсирует уменьшение верхнего */
    .modal9-window {
      color:var(--black-color, var(--content-color));
      width: 1930px;
      padding-left:20px;
      padding-top:20px;
      padding-bottom:20px;
      padding-right:10px;
      margin-right:0;
      box-sizing:border-box;
      margin-bottom:0;
      max-height:calc(100vh - 130px); /* +108px к доступной высоте */
      position:fixed;
      top:92px; /* смещено вверх на 108px */
      bottom:0px;
      left:50%;
      transform:translateX(-50%);
      overflow-x: visible;
      border: 1px solid var(--content-color);
    }

    .modal9-content {
      /* width:100%; */
      width: 1930px;
      height:100%;
      box-sizing:border-box;
      overflow-y:auto;
      padding-right:10px;
      margin-right:-10px;
     /* padding-bottom:10px; */
      /* margin-bottom:-10px; */
    }
    .modal9-content::-webkit-scrollbar{width:6px;}
    .modal9-content::-webkit-scrollbar-track{background:transparent;}
    .modal9-content::-webkit-scrollbar-thumb{background:var(--content-color);border-radius:10px;}

      /* ---- навигация nav_copy ---- */
    nav.nav_copy { position:relative; background:#333; border-radius:6px; overflow:hidden; width: 400px; }
    nav.nav_copy .slider { position:absolute; top:0; left:0; width:49%; height:100%; background:#f5f5f5; border-radius:6px; transition:left 0.3s; }
    nav.nav_copy .tab { flex:1; text-align:center; color:#f5f5f5; z-index:1; }
    nav.nav_copy .tab.active { color:var(--content-color); }

       /* ---- загрузка файлов ---- */
    .file-upload__modal { display:flex; align-items:flex-start; }
    .file-upload-form { width:fit-content; height:fit-content; display:flex; align-items:center; justify-content:center; }
    .file-upload-label input { display:none; }
    .file-upload-label { cursor:pointer; background-color:#ddd; padding:10px 20px; border-radius:8px; border:1px dashed rgb(82,82,82); }
    .file-upload-design { display:flex; flex-direction:column; align-items:center; justify-content:space-between; height:100%; }
    .file-upload-design .darkmatter-btn { width:100%; }
    .browse-button { width:100%; }
    .drag-text { margin:0; }
    .upload-status-wrapper { display:flex; flex-direction:column; align-items:flex-start; margin-left:10px; }
    .js-dropzone.drag { background: rgba(255,255,255,0.1); }

    .darkmatter-btn {
      background:var(--content-color);
      border:1px solid #333;
      color: #ddd;
      padding:5px 5px;
      width: 245px;
      border-radius:8px;
      font-size:16px;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition:all 0.3s ease;
      z-index:1;
    }
    .darkmatter-btn:hover { color:#fff; }
    .darkmatter-btn:active { transform:scale(0.95); }
    .darkmatter-btn::before {
      content:"";
      position:absolute;
      top:0; left:0;
      width:100%; height:100%;
      background:radial-gradient(circle at center, rgba(181,106,255,0.1) 0%, transparent 70%);
      transform:scale(0);
      transition:transform 0.6s ease;
      z-index:-1;
    }
    .darkmatter-btn:hover::before { transform:scale(1.5); }
    .darkmatter-particle {
      position:absolute;
      width:3px; height:3px;
      border-radius:50%;
      background:#b56aff;
      opacity:0; z-index:-1;
    }
    .darkmatter-btn:hover .darkmatter-particle { animation:darkmatter-float 2s forwards; }
    @keyframes darkmatter-float {
      0% { transform:translate(0,0) scale(0); opacity:0; }
      20% { opacity:0.8; }
      100% { transform:translate(var(--tx), var(--ty)) scale(1); opacity:0; }
    }
    .darkmatter-btn .loader { display:none; position:absolute; inset:0; margin:auto; width:16px; height:16px; border:2px solid #b56aff; border-top-color:transparent; border-radius:50%; animation:spin 1s linear infinite; }
    @keyframes spin { from{transform:rotate(0);} to{transform:rotate(360deg);} }
    .darkmatter-btn.loading .loader { display:block; }
    .darkmatter-btn.loading .button-text { visibility:hidden; }

     /* --- переключатель истории --- */
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 2px;
      bottom: 2px;
      background-color: #fff;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .toggle-slider {
      background-color: var(--content-color);
    }
    input:checked + .toggle-slider:before {
      transform: translateX(20px);
    }

     /* --- блок результатов --- */
    .block1-wrapper{
      height:100%;
      overflow-y:auto;
      overflow-x:hidden;
    }
    .block1-wrapper::-webkit-scrollbar{ width:2.5px; background-color:var(--scrollbar-color); height:90%; }
    .block1-wrapper::-webkit-scrollbar-thumb{ background-color:var(--black-color); border-radius:30px; }
    .block1-wrapper::-webkit-scrollbar-track{ background-color:var(--scrollbar-color);}
    .spec-container { margin-bottom:10px; margin-right:50px; padding-top:10px;}
    .spec-progress.multistep {
      display:flex;
      gap:10px;
      margin:0 10px;
      width:calc(100% - 20px);
    }
    .spec-progress.multistep .step {
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:2px;
    }
    .spec-progress.multistep .step-body {
      display:flex;
      gap:8px;
      margin-left:20px;
    }
    .spec-progress.multistep .step-body .darkmatter-btn {
      height:auto;
      padding:0 5px;
      width:245px;
    }
    .spec-progress.multistep .step-body .darkmatter-btn:disabled,
    .spec-progress.multistep .step-body .darkmatter-btn.disabled {
      opacity:0.5;
      cursor:default;
      pointer-events:none;
    }
    .spec-progress.multistep .bar {
      width:100%;
      height:6px;
      background:#000;
      opacity:0.25;
      border-radius:2px;
      transition:opacity 0.3s, box-shadow 0.3s;
    }
    .spec-progress.multistep .step.active .bar {
      opacity:1;
      box-shadow:0 0 4px var(--content-color);
    }
    .spec-progress.multistep .label {
      font-size:12px;
      text-align:center;
    }
    .spec-progress.multistep .icons {
      display:flex;
      gap:4px;
      align-items:center;
    }
    .spec-progress.multistep .icons .material-symbols-outlined {
      font-size:18px;
      color:var(--content-color);
    }
    .spec-header { background:transparent; cursor:pointer; font-weight:700; }
    .spec-content { }
    .group-close { float:right; background:none; border:none; cursor:pointer; }

    .dynamic-modals {
      display:flex;
      gap:10px;
      align-items:flex-start;
      width:max-content;
      user-select:none;
      margin-left:0px;
      margin-top:0px;
    }
    .modal-block {
      position:relative;
      width:50px;
      min-height:100%;
      max-height:max-content;
      border:1px solid var(--content-color);
      border-radius:6px;
      background: var(--fon);
      overflow:hidden;
      transition:width 0.3s;
      box-sizing:border-box;
    }
    .modal-title {
      position:absolute;
      top:8px;
      left:50%;
      transform:translateX(-50%) rotate(180deg);
      writing-mode:vertical-rl;
      text-orientation:mixed;
      font:600 14px/1 Arial, sans-serif;
      color:#333;
      pointer-events:none;
      transition:0.3s;
    }
    .modal-content {
      opacity:0;
      padding:0;
      transition:0.5s;
      box-sizing:border-box;
    }
    .modal-block.open {
      width:max-content;
      border:none;
    }
    .modal-block.open .modal-content { opacity:1; }
    .modal-block.open .modal-title { opacity:0.15; }
    .dynamic-modals .modal-block { width:50px; }
    .dynamic-modals .modal-block.open { width:max-content; border:none; }
    /* раскрытие блоков только по двойному клику, убираем ховер-эффекты */
    /*
    .dynamic-modals:hover .modal-block { width:50px; }
    .dynamic-modals:hover .modal-block:hover {
      width:100%;
      border:none;
    }
    .dynamic-modals:hover .modal-block:hover .modal-content { opacity:1; }
    .dynamic-modals:hover .modal-block:hover .modal-title { opacity:0.15; }
    */

    #modal9-container .glass3d {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--content-color);
      backdrop-filter: blur(3px); 
      -webkit-backdrop-filter: blur(3px); 
      box-shadow:  
    0 0 0.75px hsl(205 20% 10% / 0.2), 
    0.7px 0.8px 1.2px -0.4px hsl(205 20% 10% / 0.1), 
    1.3px 1.5px 2.2px -0.8px hsl(205 20% 10% / 0.1), 
    2.3px 2.6px 3.9px -1.2px hsl(205 20% 10% / 0.1), 
    3.9px 4.4px 6.6px -1.7px hsl(205 20% 10% / 0.1), 
    6.5px 7.2px 10.9px -2.1px hsl(205 20% 10% / 0.1), 
    8px 9px 14px -2.5px hsl(205 20% 10% / 0.2);
    }
    
  </style>
  <div class="modal9-top-window glass3d">
   <div class="button-group" style="margin-top: 15px; display:flex; align-items:center; gap:10px;">
     <div class="file-filter-container input-container" style="position: relative; margin-top: 0px; width: 300px;">
       <input id="file-filter-input" class="styled_input_bar" style="width: 100%;" />
       <label class="input-label">поиск совпадений</label>
       <button class="group-close ans5-close file-filter-clear" style="display:none;">×</button>
     </div>
     <label class="switch">
       <input type="checkbox" id="my-files-toggle">
       <span class="toggle-slider"></span>
     </label>
     <span class="toggle-text">демонстрация заявок компании</span>
   </div>
   <ul class="file-upload__list"></ul>
 </div>
 <div class="modal9-scroll-wrapper">
 <div class="modal9-window glass3d">
   <div class="modal9-content">
    <div class="page spec-page active" data-page="1">
      <div class="history-list spec-history-list"></div>
      
      <template id="history-row-template">
        <div class="history-item spec-history-item input-row" style="display: flex; flex-direction: row; padding-top: 5px;">
          <div class="input-container" style="margin-left: -6px;">
            <input type="text" class="styled_input_bar" data-field="file_number" readonly style="width: 100px;" placeholder="AK-000001">
            <label class="input-label">номер</label>
          </div>
          <div class="input-container">
            <input type="text" class="styled_input_bar" data-field="user_login" readonly style="width: 400px;" placeholder="rosatomicalchemist@gmail.com">
            <label class="input-label">login</label>
          </div>
          <div class="input-container">
            <input type="text" class="styled_input_bar" data-field="created_at" readonly style="width: 210px;" placeholder="15.07.2025, 14:23:47">
            <label class="input-label">дата</label>
          </div>
          <div class="input-container">
            <input type="text" class="styled_input_bar" data-field="file_name" readonly style="width: 730px;" placeholder="Техническое задание на поставку оборудования.docx">
            <label class="input-label">файл</label>
          </div>
          <div class="input-container">
            <input type="text" class="styled_input_bar" data-field="file_ext" style="width: 90px; text-transform: uppercase; text-align: center;" readonly placeholder="docx">
            <label class="input-label">ext</label>
          </div>
          <div class="input-container">
            <div class="status-display" data-field="status" style="width: 170px; text-transform: uppercase; text-align: center;">загружено</div>
            <label class="input-label">статус</label>
          </div>
          <div class="input-container">
            <input type="text" class="styled_input_bar" data-field="id" style="width: 80px; text-transform: uppercase; text-align: center;" readonly placeholder="1">
            <label class="input-label">spec #</label>
          </div>
        </div>
      </template>
      
    </div>

    <div class="page spec-page" data-page="2">
      <div class="block1-wrapper"></div>
      

      
    </div>
  </div>
</div>
</div>
</div>

<script type="module">
export function initModal10() {
  console.log('[modal10.html] PAGE 10 активирован');
}
initModal10();
</script>
